# HP作成マニュアル（デザインカンプ版）

## 基本情報

| 項目 | 内容 |
|------|------|
| 商材 | HP制作 |
| タスク番号 | No.5（カンプ版） |
| 担当者 | 河合 |
| 使用ツール | Claude Code, VSCode, ターミナル |
| 成果物 | HPソースコード（Next.js） |
| 前工程 | デザインカンプ受領 |
| 後工程 | No.6 素材撮影（オプション）または No.7 修正・根拠作成 |

## 目的

デザイナーが作成した**デザインカンプ（画像）**を元に、忠実にHPを実装する。

**通常版との違い:**

| 項目 | 通常版 | カンプ版 |
|------|--------|----------|
| 入力 | ヒアリングシート | デザインカンプ画像 |
| 構成案 | AIが生成 | カンプを分析して抽出 |
| composition.md | 構成案 | カンプ分析結果 |
| フロー | 同じ | 同じ |

---

## 厳守事項（絶対に守ること）

### 1. 文言の捏造禁止
- カンプに**見えない文言**を勝手に作成しない
- 「〇〇について」「詳しくはこちら」など推測で追加しない
- カンプに**見える文字のみ**を正確に転記

### 2. プレースホルダー維持
- 「aaaa」「xxxx」「000-0000」を実データに置き換えない
- プレースホルダーは**そのまま**実装

### 3. デザイン忠実再現
- カンプにないデザイン要素を追加しない
- 「こうした方が良い」という改善提案をしない
- カンプの**見た目を100%再現**

### 4. 虚偽情報禁止
- 存在しない実績・資格を追加しない
- 推測で数字を記載しない
- 不明な情報は「【要確認】」と明記

---

## フロー概要

```
【Phase 1】カンプ分析
    ↓
【Phase 2】セットアップ（テンプレートクローン + ファイル配置）
    ↓
【Phase 3】実装（HANDOFFに従って）※別セッション
    ↓
【Phase 4】動作確認・ビルド
    ↓
【Phase 5】更新・修正（必要に応じて）
    ↓
【STEP 6】ステータス更新
```

**※通常版と同じフロー**（composition.mdの中身がカンプ分析結果になるだけ）

---

## 作業手順

### Phase 1: カンプ分析

1. **GASでプロンプト生成**
   - ヒアリングシート → メニュー「4.📝 構成案作成」
   - 「🎨 カンプ分析プロンプト生成」をクリック

2. **ダイアログで設定**
   - 対象企業を選択
   - カンプフォルダのパスを入力
   - 画像の枚数を入力
   - バッチ選択（全体分析 or 分割）

3. **外部AIで分析**
   - プロンプトをコピー
   - Claude.ai / ChatGPT にペースト
   - カンプ画像を添付（複数枚可）
   - 分析結果を取得

4. **分析結果を保存**
   - 分析結果をコピー
   - 次のPhase 2で使用

---

### Phase 2: セットアップ

1. **GASでClaude Code指示文生成**
   - メニュー「4.📝 構成案作成」
   - 「🖼️ カンプ版 Claude Code指示文」をクリック
   - 分析結果を貼り付け
   - 指示文を生成

2. **Claude Codeで実行**
   ```bash
   cd /mnt/c/client_hp
   claude
   ```
   - 生成された指示文を貼り付け

3. **セットアップ内容**（自動実行）
   - テンプレートをクローン
   - `data/composition.md` を作成（カンプ分析結果）
   - `data/hearing.json` を作成（ヒアリング情報、あれば）
   - `HANDOFF.md` を作成（進捗管理）
   - `npm install` 実行

4. **完了確認**
   ```
   {{企業名}}/
   ├── data/
   │   ├── composition.md  ← カンプ分析結果
   │   └── hearing.json    ← ヒアリング情報
   ├── HANDOFF.md          ← 進捗管理
   └── （テンプレートファイル）
   ```

---

### Phase 3: 実装（別セッション）

1. **新しいセッションを開始**
   ```bash
   cd /mnt/c/client_hp/{{企業名}}
   claude
   ```

2. **HANDOFFを読み込んで実装開始**
   ```
   HANDOFF.mdを読んで、TOPページから実装を開始してください。
   ```

3. **実装中の確認**
   - [ ] カンプの文言をそのまま使用しているか
   - [ ] プレースホルダーを勝手に埋めていないか
   - [ ] カンプにない要素を追加していないか

4. **コンテキスト管理**

   | 画像枚数 | 推奨処理方法 |
   |---------|-------------|
   | 1-3枚 | 一括処理OK |
   | 4-6枚 | 2バッチに分割 |
   | 7枚以上 | 3バッチ以上に分割 |

   **コンテキストリセット方法:**
   ```
   /clear
   ```
   または新しいセッションを開始し、HANDOFFから再開

---

### Phase 4: 動作確認・ビルド

1. **開発サーバーを起動**
   ```bash
   npm run dev
   ```

2. **ブラウザで確認**
   - http://localhost:3000 を開く
   - カンプと見比べながら確認

3. **確認チェックリスト**

   **デザイン一致確認:**
   - [ ] 色がカンプと一致しているか
   - [ ] フォントサイズ・余白がカンプに近いか
   - [ ] レイアウトがカンプ通りか
   - [ ] 画像の配置がカンプ通りか

   **厳守事項確認:**
   - [ ] カンプにない文言を追加していないか
   - [ ] プレースホルダーがそのまま表示されているか

   **レスポンシブ確認:**
   - [ ] SP表示が崩れていないか
   - [ ] ハンバーガーメニューが動作するか

4. **ビルド確認**
   ```bash
   npm run build
   ```

---

### Phase 5: 更新・修正（必要に応じて）

カンプとのギャップ修正や、プレースホルダーの更新が必要な場合。

#### 5-1. カンプ差分確認・修正

1. **GASでプロンプト生成**
   - メニュー「5.🔄 更新・修正・校正」
   - 「🔍 カンプ差分確認・修正」をクリック

2. **ダイアログで設定**
   - 対象セクションを入力（例: HeroSection）
   - モードを選択:
     - 🔍 解析のみ（差分レポート出力）
     - 🔧 解析 + 修正指示生成
   - 修正対象を選択（複数選択可）:
     - [ ] テキスト・文言
     - [ ] 色・カラー
     - [ ] レイアウト・配置
     - [ ] フォント・サイズ
     - [ ] 画像・素材
     - [ ] 余白・間隔
   - カンプ画像パスを入力

3. **重要: 選択した項目のみ修正される**
   - 選択していない項目は**絶対に変更されない**
   - 不安な場合は「解析のみ」で差分確認してから修正

#### 5-2. プレースホルダー更新 + SEO/LLMO

ヒアリングシートのデータを使って、プレースホルダーを実データに置換。同時にSEO・LLMO対策も実施。

1. **GASでダイアログを開く**
   - メニュー「5.🔄 更新・修正・校正」
   - 「📝 プレースホルダー更新 + SEO/LLMO」をクリック

2. **ダイアログで設定**
   - 対象企業シートを選択
   - 実行内容を選択（プレースホルダー / SEO / LLMO）
   - 「生成」ボタンをクリック → **自動でJSON取得・保存**

3. **生成されたプロンプトをClaude Codeに投げる**

4. **ポイント**
   - ヒアリングシートから最新データを自動取得
   - JSONはシートに自動保存される
   - SEO_LLMO_GUIDE.md を参照してSEO・LLMO対策も実施

---

### STEP 6: ステータス更新

1. ヒアリングシートを開く
2. メニュー「**1.📋 HP制作**」→「**✏️ ステータス更新**」をクリック
3. 以下を更新：
   - **現在タスク**:
     - 素材撮影がある場合 → 6.素材撮影
     - ない場合 → 7.修正・根拠作成
   - **タスク保持者**: 該当者
   - **状態**: 対応中
4. **「更新」**ボタンをクリック

---

## プレースホルダーの扱い

### よくあるプレースホルダー

| パターン | 意味 | 対応 |
|---------|------|------|
| aaaa | 未確定テキスト | そのまま `aaaa` を表示 |
| xxxx | 未確定テキスト | そのまま `xxxx` を表示 |
| 000-0000 | 電話番号 | そのまま表示 |
| 〇〇〇 | 未確定テキスト | そのまま表示 |
| ダミーテキスト | サンプル文 | そのまま表示 |

### 実装例

```tsx
// ❌ NG: 勝手に埋める
<p>TEL: 03-1234-5678</p>

// ✅ OK: プレースホルダーのまま
<p>TEL: aaaaaaa</p>
```

---

## GASメニュー構成

```
4.📝 構成案作成
├── 📤 HP制作用JSON出力
├── ────────────
├── 📋 構成案プロンプト生成        ← 通常版
├── 🤖 Claude Code指示文生成       ← 通常版
├── ────────────
├── 🎨 カンプ分析プロンプト生成    ← カンプ版
└── 🖼️ カンプ版 Claude Code指示文  ← カンプ版

5.🔄 更新・修正・校正
├── 🔍 カンプ差分確認・修正        ← カンプとのギャップ修正
└── 📝 プレースホルダー更新 + SEO/LLMO  ← JSON自動取得・SEO対策
```

---

## トラブルシューティング

### 画像が大きくてClaude Codeに添付できない

**対策1: 画像を圧縮**
- オンラインツールで圧縮（TinyPNG等）
- 解像度を下げる

**対策2: 分割処理**
- 1-2枚ずつバッチ処理
- GASの「バッチ選択」機能を使用

### コンテキストが限界に達した

**対策:**
1. `/clear` でリセット
2. 新しいセッションを開始
3. HANDOFF.mdを読み込んで続きから実装

### カンプの一部が見えにくい

**対策:**
- 画像を拡大して確認
- デザイナーに確認
- 不明点は「【要確認】」としてコメントで残す

### 修正で他の部分が壊れた

**対策:**
- 「5.🔄 更新・修正・校正」で修正対象を限定
- 「解析のみ」モードで差分確認してから修正
- テキストのみの修正に限定する

---

## チェックリスト（最終確認）

### 厳守事項
- [ ] カンプに見えない文言を追加していない
- [ ] プレースホルダーをそのまま維持している
- [ ] カンプにないデザイン要素を追加していない
- [ ] 虚偽の情報を追加していない

### 技術確認
- [ ] 全ページが正しく表示される
- [ ] レスポンシブ対応ができている
- [ ] リンク切れがない
- [ ] ビルドエラーがない

### 運用
- [ ] ステータスを更新した
- [ ] 要確認事項をメモに残した

---

## 次の担当者

**素材撮影がある場合:**
- **川崎** → No.6 素材撮影

**素材撮影がない場合:**
- **河合**（継続）→ No.7 修正・根拠作成
